基于 STM32 的楼道照明系统设计
一、系统简介
基于 STM32 的楼道照明系统旨在通过智能化控制提升楼道照明的能效与使用舒适度。该系统以 STM32F103ZET6 微控制器为核心，集成多种传感器与通信模块，可根据环境亮度、人体感应等条件自动调节灯光，并支持远程控制功能。
二、硬件部署
（一）主控模块
模块名称：STM32F103ZET6 微控制器
功能：作为系统核心，负责接收、处理各模块数据，控制灯光状态及亮度调节
部署要求：需连接 3.3V 电源，通过 SWD 接口进行程序下载与调试
（二）环境亮度采集模块
模块名称：光敏电阻传感器
功能：实时检测环境光线强度，将光信号转换为电信号传输给主控
部署要求
工作电压：3.3V-5V
连接方式：将模块的 VCC、GND 分别接 STM32 的 3.3V 电源与地，DO/AD 引脚接 STM32 的 PF8 引脚（ADC 通道）
（三）红外信息采集模块
模块名称：HC-SR501 红外模块
功能：检测人体接近，输出触发信号控制灯光开关
部署要求
工作电压：4.5V-20V
连接方式：VCC 接 5V 电源，GND 接地，OUT 引脚接 STM32 的 PA5 引脚
（四）LED 灯模块
模块名称：LED 灯组
功能：提供楼道照明，支持亮度调节
部署要求
工作电压：3.3V
连接方式：LED 正极接 STM32 的 PB5、PE5 等 GPIO 引脚，负极接地
（五）LCD 显示模块
模块名称：TFT LCD 显示屏
功能：实时显示环境亮度、时间、系统状态等信息
部署要求
工作电压：3.3V
连接方式：通过 SPI/I2C 接口与 STM32 通信，电源线接 3.3V，地线接地
（六）通信模块
模块名称：ESP8266 无线通信模块
功能：实现系统与云端、手机 APP 的通信，支持远程控制
部署要求
工作电压：3.3V
连接方式：VCC 接 3.3V，GND 接地，TX/RX 引脚接 STM32 的串口引脚（如 PB10、PB11）
（七）时钟模块
模块名称：RTC 时钟模块
功能：提供时间信息，支持定时控制灯光模式
部署要求
工作电压：3.3V
连接方式：通过 I2C 接口与 STM32 通信，配备备用电池以维持时间同步
三、软件部署
（一）开发环境
集成开发环境：Keil μVision 5
编程语言：C 语言
（二）部署流程
硬件连接检查：按上述要求连接各模块，确保电路连接正确，无短路、虚接现象
开发环境配置：在 Keil 中创建项目，添加 STM32F103ZET6 芯片支持包及相关驱动文件
模块初始化：依次初始化主控、传感器、通信等各模块
功能调试
测试光敏电阻传感器是否能正确采集环境亮度数据
测试 HC-SR501 红外模块是否能准确检测人体接近
测试 LED 灯是否能根据控制信号正确调节亮度
测试 LCD 显示是否能正确呈现系统信息
测试 ESP8266 模块是否能成功连接网络并与手机 APP 通信
系统联调：整合各模块功能，测试系统在不同场景下的运行状态，如白天 / 夜晚模式切换、人体感应开灯、远程控制等
四、系统功能与应用场景
（一）核心功能
智能照明控制：根据环境亮度和人体感应自动调节灯光开关与亮度
定时控制：通过时钟模块实现按时间段自动切换照明模式（如夜间降低亮度，白天关闭）
远程监控与控制：通过手机 APP 实时查看环境亮度、时间等信息，远程控制灯光状态
数据显示：LCD 显示屏实时显示系统运行状态及相关数据
（二）应用场景
住宅小区楼道
办公楼走廊
医院、学校等公共场所通道
地下车库等光线较暗区域
五、注意事项
硬件连接时注意各模块工作电压，避免因电压不符损坏器件
通信模块部署时需确保网络连接稳定，手机 APP 与云端账号正确绑定
系统调试时建议分模块进行，逐步整合功能
实际部署时注意传感器的安装位置，确保检测范围与灵敏度符合需求
定期检查系统运行状态，如有异常及时排查硬件连接与软件配置